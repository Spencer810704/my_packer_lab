block:
  id: "app-docker"
  name: "Docker Container Runtime"
  category: "application"
  version: "latest"
  description: "Docker container runtime with docker-compose"
  
  requires:
    - "linux-os"
    
  provides:
    - "container-runtime"
    - "docker"
    
  parameters:
    - name: "version"
      type: "string"
      default: "latest"
      description: "Docker version to install"
      
    - name: "enable_docker_compose"
      type: "boolean"
      default: true
      description: "Install docker-compose"
      
  os_support:
    - os_family: "debian"
      os_versions: ["20.04", "22.04"]
      scripts:
        install: "scripts/debian/install.sh"
        configure: "scripts/debian/configure.sh"
        validate: "scripts/common/validate.sh"
    
    - os_family: "rhel"
      os_versions: ["7", "8", "9"]
      scripts:
        install: "scripts/rhel/install.sh"
        configure: "scripts/rhel/configure.sh"
        validate: "scripts/common/validate.sh"
    
    - os_family: "amazon-linux"
      os_versions: ["2", "2023"]
      scripts:
        install: "scripts/amazon-linux/install.sh"
        configure: "scripts/amazon-linux/configure.sh"
        validate: "scripts/common/validate.sh"
    
  execution_order: 50